## HTTP

- http는 www에서 통신하는데 사용하는 프로토콜이다
- http는 웹서버로부터 이미지,html 페이지, 텍스트파일, mpeg 동영상 등의 대량의 정보를 사용자들의 pc에 설치된 웹브라우저로 옮겨준다
- 신뢰성 있는 데이터 전송 프로토콜(TCP)를 사용하기 때문에 전송 중 데이터가 손상되지 않음을 보장한다

## 웹 클라이언트와 서버

- 웹 서버는 http프로토콜로 통신하기 때문에 http서버라고 불린다
- 클라이언트는 http요청을 서버에 보내고 서버는 요청된 데이터를 http응답으로 돌려준다
- 이 둘은 www의 기본 요소이다

## 리소스

- 웹 서버는 웹 리소스를 관리한다
- 리소스는 정적 파일과 동적 파일이 있다
  - 정적 파일: text파일, html파일, 워드 파일 등
  - 동적 콘텐츠 리소스: 사용자가 누구고 어떤 정보, 몇 시인지에 따라서 다른 콘텐츠를 생성한다 (어떻게 요청하느냐에 따라서 달라지는 리소스를 전달한다)

## 미디어 타입

- http는 mime타입이라는 데이터 포맷 라벨을 붙인다
- 웹 브라우저는 서버로부터 객체를 돌려받을 때 mime 타입을 통해 다룰 수 있는 객체인지 확인한다.
- mime타입은 /로 구분된 주타입과 부타입으로 이루어진 문자열 라벨이다 ex) text/html

## URI (통합자원식별자)

- 정보 리소스를 고유하게 식별하고 위치를 지정한다
- URL과 URN이 있다

## URL (통합자원지시자)

- 가장 흔한 URI의 형태
- 특정서버의 한 리소스에 대한 구체적인 위치를 서술한다

- 세 부분으로 이루어져있다
  - 스킴: 리소스에 접근하기 위해 사용되는 프로토콜 (http)
  - 서버의 인터넷 주소 (www.naver.com)
  - 웹 서버의 리소스 (/images/giraffe.gif)

## URN (유니폼 리소스 이름)

- 리소스 위치에 영향 받지 않는 유일무이한 이름 역할
- 여러 종류의 네트워크 접속 프로토콜로 접속해도 문제 없다
- 아직 실험중이고 채택 되지 않았다. 리소스 위치를 분석하기 위한 인프라가 필요하기 때문이다.

## 트랜잭션

- http 트랜잭션은 요청 명령과 응답 결과로 구성됨
- http 메세지라고 불리는 정형화된 데이터 덩어리 이용

## 메서드

- http 메서드라는 여러가지 종류 요청 명령 지원
- 모든 http메세지는 한 개의 메서드를 갖는다
- GET,POST, DELETE, HEAD, PUT

## 상태코드

- HTTP 메세지는 상태 코드와 함께 반환된다.
- ex) 200 : ok

## 웹 페이지는 여러 개의 객체로 이루어짐

- 애플리케이션은 하나의 작업을 수행하기 위해 보통 여러 개의 http 트랜잭션 수행한다

  <br/>

# TCP 커넥션

## TCP/IP

- HTTP는 애플리케이션 계층 프로토콜이고 네트워크 통신 내부의 세부적인 핵심 사항에 대해서 신경쓰지 않는다. 이 역할은 대중적이고 신뢰성있는 전송 프로토콜인 TCP/IP가 한다

- TCP
  - 오류 없는 데이터 전송
  - 순서대로 데이터 전송
  - 조각나지 않는 데이터 스트림 (언제든 어떤 크기로든 보낼 수 있음)

## 접속, IP주소, 포트 번호

- HTTP 클라이언트가 서버에 메세지를 전송하기 전에 IP주소와 포트번호를 이용해 클라이언트와 서버간 TCP/IP 커넥션을 맺어야한다

- IP주소와 포트번호는 URL를 통해서 얻는다
  - http://207.300.24.24:80/index.html
  - http://www.naver.com:80/index.html
  - http://www.naver.com/index.html

두 번째 url은 숫자로 된 IP 주소가 없다. 대신 WWW.naver.com이라는 호스트 명이 있는데 이는 DNS를 통해서 IP로 쉽게 변환된다 (블로그 정리글 브라우저 렌더링 편 참고)

- 포트번호가 없다면 기본 80이다

**순서**

1. 웹브라우저는 서버의 URL에서 호스트 명 추출
2. 서버의 호스트 명을 IP로 변환
3. URL에서 포트번호 추출
4. 웹 서버와 TCP 커넥션을 맺는다
5. 서버에 HTTP요청을 보낸다
6. 서버는 웹 브라우저에 HTTP응답을 돌려준다
7. 커넥션이 닫히면 웹 브라우저가 문서를 보내준다
